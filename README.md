# BeholderBot

Просто бот на питоне по фану без заморочек. 

Нужен для сбора личной статистики.

## Статусы дней

Нужно получать, хранить и визуализировать данные о том, как прошел день.

День может пройти:
- хорошо, было много энергии, хорошее настроение, день прошел продуктивно
- нормально, было мало энергии, настроение среднее, день прошел в принципе не зря
- плохо, энергии нет, настроение плохое, день прошел бездарно

Данные о прошедшем дне можно получить:
- спрашивая у пользователя раз в день, например, в 23:00
- пользователь сам может в любое время сообщить как прошел день и тогда спрашивать не надо

Пользователь может узнать:
- получить график результатов прошедших дней за все время

## Хранение данных

Как хранить данные?
- в csv. Две колонки: Date,Status. 
- Status принимает следующие значения:
  - 1, Good
  - 0, Normal
  - -1, Bad

## Bot API 

Даты и статусы:
- `/day [status]`
  - добавить статус в текущий день

Статистика и графики:
- `/graph`
  - получить картинку с графиком за все время

## Не забыть поправить
То, на что обратил внимание, но что пока лень/не нужно исправлять:
- тесты на csv_day_repository подразумевались, что каждый себе готовит csv, а потом удаляет.
  - но по факту все используют одну csv, которая сбрасывается перед запуском тестов
  - может в ногу выстрелить, но пока не стреляет
- в csv_day_repository pandas прокрался, избыточно как-то, надо выпилить
- про reminder:
  - нет тестов
  - не нравится, что он экземпляр Bot использует, у которого внутри http соединение. Надо исследовать поведение под нагрузкой
  - надо отвязать reminder от всех зависимостей, чтобы просто callback на вход принимал и время
  - используется csv репозиторий без блокировок
